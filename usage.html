<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/markdown/usage.md.vm at 2025-09-16
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>Usage – Projects Maven Plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <style type="text/css">body{background-image: url('./images/profiles/pre-release.png');}</style>
    <script src="./js/apache-maven-fluido-2.1.0.min.js"></script>
    <style>.github-fork-ribbon:before { background-color: black; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/github/mikkoi/projects-maven-plugin" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-09-16<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 0.0.5</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Projects Maven Plugin</li>
    <li><a href="index.html">Introduction</a></li>
    <li><a href="configuration.html">Configuration</a></li>
    <li class="active"><a>Usage</a></li>
    <li><a href="https://www.apache.org/licenses/">License</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="Usage"></a>
<h1>Usage</h1>
<p>Some goals are only runnable with a configuration in the POM file.</p>
<p>Some goals are meant to be run from the command line.</p>
<p>If you are planning to use the plugin from command line, for example the goals <em>list</em> or <em>tree</em>,
you should add the plugin's groupId to your <code>~/.m2/settings.xml</code> file:</p>

<pre><code class="nohighlight nocode">&lt;settings&gt;
  ...
    &lt;pluginGroups&gt;
        &lt;pluginGroup&gt;com.github.mikkoi&lt;/pluginGroup&gt;
    &lt;/pluginGroups&gt;
  ...
&lt;/settings&gt;



mvn projects:help -Ddetail=true -Dgoal=&lt;goal name&gt;
</code></pre>
<p>List projects in a multi-module build from the command line:</p>

<pre><code class="nohighlight nocode">mvn projects:list -Dprojects.list.sortOrder=alphabetic

mvn --quiet projects:list -Dprojects.forceStdout -Dprojects.list.includes=&quot;*hello*,db&quot;

mvn projects:list -Dprojects.list.printFormat=&quot;{artifactId}:{version}:{packaging}:{absPath}&quot;
</code></pre>
<p>The goal add-dependencies is meant to be configured in the POM file of a (sub)project
that should depend on all or a subset of projects in the multi-module build.
It will add dependencies to the project during the build.</p>
<p>One possible use case is a test-aggregator project (e.g. <a href="https://www.jacoco.org/jacoco/trunk/doc/report-aggregate-mojo.html" class="externalLink">Jacoco</a>)
that has to depend on all other projects so that all tests in the build
are run and result files are ready for collecting and merging (aggregating) together.</p>
<p>This goal is not safe if the build is run in parallel mode (<code>-T</code> option of Maven).
It should be used only in single-threaded builds. If you need to support parallel builds,
take a look at the Maven Enforcer Rule
<a href="https://github.com/mikkoi/maven-enforcer-rule-depend-on-all-projects/" class="externalLink">dependOnAllProjects</a>.</p>
<p>Example configuration:</p>

<pre><code class="nohighlight nocode">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;com.github.mikkoi&lt;/groupId&gt;
            &lt;artifactId&gt;projects-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;0.0.5
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;add-dependencies&lt;/id&gt;
                    &lt;phase&gt;initialize&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;add-dependencies&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;configuration&gt;
                        &lt;excludes&gt;
                            &lt;exclude&gt;project-to-exclude&lt;/exclude&gt;
                            &lt;exclude&gt;another-project-to-exclude&lt;/exclude&gt;
                        &lt;/excludes&gt;
                    &lt;/configuration&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre>
<p>The goal create-bom is meant to be configured in the POM file of a subproject
or the root project. You can also use it from the command line.
It will create a new Maven project and save it by default to <code>/home/runner/work/projects-maven-plugin/projects-maven-plugin/target/checkout/target/bom/pom.xml</code>.
This project will be a
<a href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Bill_of_Materials_.28BOM.29_POMs" class="externalLink">BOM</a>
(Bill Of Materials) project with packaging type <strong>pom</strong>.
It will contain dependencyManagement entries for all or a subset of projects in the multi-module build.
You can override the output location with the parameter <code>bomFilepath</code>.</p>
<p>The new BOM project will have the same <em>groupId</em> as the project where the goal is configured
and the <em>artifactId</em> will be <strong>bom</strong> by default.
You can override the groupId and artifactId.
You can also override the version of the BOM project. This is probably what you want to do,
because BOM projects are often versioned independently of the projects they include.</p>
<p>The new BOM project will have no parent,
but it will have most of the meta information copied from the project where the goal is configured.
This includes description, url, licenses, developers, scm, issueManagement and others.</p>
<p>After BOM is created, you need a separate deployment or publishing process for it.
It would not make sense to treat the BOM project as a normal subproject
with the parent being the root project.</p>
<p>Example configuration:</p>

<pre><code class="nohighlight nocode">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;com.github.mikkoi&lt;/groupId&gt;
            &lt;artifactId&gt;projects-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;0.0.5
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;create-bom&lt;/id&gt;
                    &lt;phase&gt;install&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;create-bom&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;configuration&gt;
                        &lt;includes&gt;
                            &lt;include&gt;project-to-include-*&lt;/include&gt;
                        &lt;/includes&gt;
                        &lt;excludes&gt;
                            &lt;exclude&gt;project-to-exclude&lt;/exclude&gt;
                        &lt;/excludes&gt;
                    &lt;/configuration&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre>
<p>Apache License Version 2.0, January 2004</p></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2025
<a href="http://www.linkedin.com/in/mikkokoivunalho/">Mikko Koivunalho</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>